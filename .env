# Fees Manager Backend Environment Variables
# Copy this file to .env and fill in your actual values

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Application environment
NODE_ENV=development
PORT=3001
TZ=Asia/Karachi

# Frontend URL for CORS
FRONTEND_URL=http://localhost:5173

# Logging level (error, warn, info, debug)
LOG_LEVEL=info

# JWT Configuration (for internal API authentication)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# FIREBASE CONFIGURATION
# =============================================================================

# Firebase Admin SDK configuration
FIREBASE_PROJECT_ID=new-fee-manager
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-fbsvc@sprinthon-school.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCaM1rfnnaE7S33\nqbxXoDmpiNaKgANKO1KtyLchKZqN5zhADK3eCj6/gYLyiYKeR87MrpDU0++z8B3/\ng5zuzNi375jJXdQva6T9oPg4poetATAxmQMDDMHMCW4LM+7tB/wHkSxPNv/CyFsU\nk7lZezmtBkiUU+ZjzDBowU4C3vlg8hNr5j+V/qh1WJltufb+N75M3430aRjpBa90\ncNPdeb/lu3vcfOo/+X5DqXPCe7Efr4czbIfssfIQ4Z8dEjg6os0CC5HaLPapKW+x\nv0QoTNM7NE8NJfqQwoLyQ/CGqpOFJuVWRUqpTzzxjQnrO3tkggksm8DSdShH5y2n\nq6eJqjgjAgMBAAECggEABg3QGolxI8TgEiIi19ndia9qpONjva1YkKQZtH6ap8mV\nJsaYqOgEEKa4CmelrispjlWoMALmHU1nEBoNtj5qn8YTXIyHgRkb0C1asXawSvWJ\n+9iDCsKcdTNFk8EFN18h4PYtJCsHnZEaKlOmakHxQL7HaLNmjzJ8EBDOzEQOzGSF\nDk/vD3nFfBr+OBaE9izvDSSA/eLBEnn0Yfdh9y7qenOg9Wpa4AaNHNfElnxUNeb9\n66hy27ZG2Xo8iZ09OQGESXu3ryOGwOi+PE6EB1nkJK9qr65JIs/oSkqBW3mj3u7s\nZQEhBfe7DI3w8E4GFsWlbg0nqJY/K0DoNev/eTCaIQKBgQDJ4blb/9sPHqaeu9WD\nJE4jS9iTDVe5W6COWMoCGfwyxDzcOeMzlHPzBtT6XE+agoyDL8Ecy+WgXFUlXa+t\nzynKOuc0V6iXm92wPboVHzQI77P3lTsFBApppWyzxQKmbQSohfR188JMJZ0V5iLN\n/ZmKA/wtnF1+TrRZcQpQQl7nswKBgQDDiXrbFrP4RNaPoWb8FwNAp7mox9oO8EpH\nns8fHT8aLYXYirDEdj/iQZ4bc2nOKJu4buNh9WeskYSdLr3kox2+uTZbb0ssKrJp\nfBqkJ3NheDffXlm3DqesCQF1RXyci8RhokwNaVyvGgqrENcrrl8sgjW90hwQ5pXh\nKiwyP2010QKBgDvSY3bbjjIgxwbqag5+R5k19Gs+3OvUNvN3ZATTZmQ0ukQX8zdp\nmiI9uAaoK/6BCNom4HaEBPtL4P89j71VUfDXG4PrJc4nJb3/zJBNusGbJh0LX33R\nALTljByJGIvwahz19MavALhHvRCsLUwVBdZb7/IkD6BJ+i82y/OUd0L5AoGAc0cg\n+/slfO+wgxsHqQU0MLDxXtT79KSrVhAFUfWfFyLRbvlM/3YrcYt31/0x2o3MSG5v\ndXgFeBKOWVCOOTYFOkTdDAjQC6jcaB33YuGzPzptzi1EvQxRw7XHe0jND0nDLEBP\nj/SW5NB4i6OxBxqVF5tobZFqZHhc0lNXnQQRsZECgYA63aaCjJp9XZsAw1EGtPQ/\nxOTyx7YfFNfGEqCxAJAIcoRcjlZH5nLRzqYiAgLgRCQ7nAFfGXF4XpxsXlGPM/Gq\nEdd7uuc7pX95e9rzuPb068li5yf2tMdxdc/fj9xIxFSoSC8CvByLswAV1HQv5ePl\nFdMJjWm+rN4sQt/Acx55vg==\n-----END PRIVATE KEY-----"
FIREBASE_DATABASE_URL=https://new-fee-manager-default-rtdb.asia-southeast1.firebasedatabase.app

# Firebase Web API Key (for client operations)
FIREBASE_API_KEY=AIzaSyAXh5xqpjt0-v-gJUdaY6TbhDHRY17YXXM

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis connection
REDIS_URL=redis://redis:6379
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0

# Redis connection pool settings
REDIS_POOL_MIN=2
REDIS_POOL_MAX=10
REDIS_POOL_ACQUIRE_TIMEOUT=30000
REDIS_POOL_CREATE_TIMEOUT=30000
REDIS_POOL_DESTROY_TIMEOUT=5000
REDIS_POOL_IDLE_TIMEOUT=30000
REDIS_POOL_REAP_INTERVAL=1000
REDIS_POOL_CREATE_RETRY_INTERVAL=200

# Redis queue settings
REDIS_QUEUE_NAME=whatsapp-messages
REDIS_QUEUE_CONCURRENCY=1
REDIS_QUEUE_ATTEMPTS=3
REDIS_QUEUE_BACKOFF_DELAY=2000
REDIS_QUEUE_REMOVE_ON_COMPLETE=100
REDIS_QUEUE_REMOVE_ON_FAIL=50
REDIS_QUEUE_DELAY_BETWEEN_JOBS=2000

# Redis rate limiting settings
REDIS_RATE_LIMIT_PREFIX=rate_limit
REDIS_RATE_LIMIT_DEFAULT_TTL=3600
REDIS_RATE_LIMIT_HOURLY_TTL=3600
REDIS_RATE_LIMIT_DAILY_TTL=86400
REDIS_RATE_LIMIT_DELAY_TTL=3600

# Redis cache settings
REDIS_CACHE_PREFIX=cache
REDIS_CACHE_DEFAULT_TTL=300
REDIS_CACHE_MAX_KEYS=10000

# Redis SSL settings (optional)
REDIS_SSL_ENABLED=false
REDIS_SSL_CA=
REDIS_SSL_CERT=
REDIS_SSL_KEY=
REDIS_SSL_REJECT_UNAUTHORIZED=true

# Redis retry settings
REDIS_RETRY_MAX_ATTEMPTS=3
REDIS_RETRY_DELAY=1000
REDIS_RETRY_BACKOFF_MULTIPLIER=2

# Redis monitoring settings
REDIS_MONITORING_ENABLED=true
REDIS_MONITORING_INTERVAL=60000
REDIS_MONITORING_TIMEOUT=5000

# =============================================================================
# WPPCONNECT CONFIGURATION
# =============================================================================

# WPPConnect server connection
WPPCONNECT_SERVER_URL=https://wa.sprinthon.com
WPPCONNECT_SESSION_ID=default

# Connection settings
WPPCONNECT_TIMEOUT=30000
WPPCONNECT_MAX_RETRIES=3
WPPCONNECT_RETRY_DELAY=2000

# Session management
WPPCONNECT_AUTO_RECONNECT=true
WPPCONNECT_RECONNECT_INTERVAL=60000

# Health check settings
WPPCONNECT_HEALTH_CHECK_INTERVAL=300000
WPPCONNECT_HEALTH_CHECK_TIMEOUT=5000


# Firebase connection settings
FIREBASE_TIMEOUT=30000
FIREBASE_MAX_RETRIES=3
FIREBASE_RETRY_DELAY=1000

# Firestore settings
FIRESTORE_HOST=firestore.googleapis.com
FIRESTORE_PORT=443
FIRESTORE_SSL=true
FIRESTORE_MAX_IDLE_CHANNELS=1
FIRESTORE_MAX_CONCURRENT_STREAMS=100

# Firebase collection names
FIREBASE_COLLECTION_AUTOMATION_RULES=automationRules
FIREBASE_COLLECTION_STUDENTS=students
FIREBASE_COLLECTION_MESSAGE_TEMPLATES=messageTemplates
FIREBASE_COLLECTION_RATE_LIMITING_RULES=rateLimitingRules
FIREBASE_COLLECTION_MESSAGE_LOGS=messageLogs
FIREBASE_COLLECTION_USERS=users
FIREBASE_COLLECTION_SETTINGS=settings

# Firebase caching settings
FIREBASE_CACHE_ENABLED=true
FIREBASE_CACHE_TTL=300000
FIREBASE_CACHE_MAX_SIZE=1000

# Firebase logging settings
FIREBASE_LOGGING_ENABLED=true
FIREBASE_LOG_LEVEL=info
FIREBASE_LOG_INCLUDE_METADATA=true

# =============================================================================
# AUTOMATION SETTINGS
# =============================================================================

# Default automation settings
AUTOMATION_DEFAULT_DELAY_BETWEEN_MESSAGES=2000
AUTOMATION_MAX_MESSAGES_PER_HOUR=10
AUTOMATION_MAX_MESSAGES_PER_DAY=100
AUTOMATION_BUSINESS_HOURS_START=9
AUTOMATION_BUSINESS_HOURS_END=17
AUTOMATION_BUSINESS_DAYS=1,2,3,4,5

# =============================================================================
# MONITORING & HEALTH CHECKS
# =============================================================================

# Health check settings
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_RETRIES=3

# Performance monitoring
PERFORMANCE_MONITORING_ENABLED=true
PERFORMANCE_LOG_INTERVAL=60000

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# API security (if implementing REST API)
API_SECRET_KEY=your-secret-key-here
API_RATE_LIMIT_WINDOW=900000
API_RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# DEVELOPMENT SETTINGS (for local development)
# =============================================================================

# Uncomment for development
# NODE_ENV=development
# LOG_LEVEL=debug
# REDIS_URL=redis://localhost:6379
# WPPCONNECT_SERVER_URL=http://localhost:8080

# =============================================================================
# PRODUCTION SETTINGS (for production deployment)
# =============================================================================

# Uncomment and configure for production
# NODE_ENV=production
# LOG_LEVEL=info
# REDIS_SSL_ENABLED=true
# FIREBASE_LOGGING_ENABLED=false

# =============================================================================
# EXAMPLE VALUES (replace with your actual values)
# =============================================================================

# Example Firebase configuration:
# FIREBASE_PROJECT_ID=fees-manager-12345
# FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC...\n-----END PRIVATE KEY-----\n"
# FIREBASE_CLIENT_EMAIL=firebase-adminsdk-abc123@fees-manager-12345.iam.gserviceaccount.com

# Example WPPConnect configuration:
# WPPCONNECT_SERVER_URL=http://wpp.sprinthon.com:8080
# WPPCONNECT_SESSION_ID=fees-manager-session

# Example Redis configuration:
# REDIS_URL=redis://your-redis-server:6379
# REDIS_PASSWORD=your-redis-password
